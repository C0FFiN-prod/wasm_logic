<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <title>LoSi</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="/icons/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/icons/favicon.svg" />
    <link rel="shortcut icon" href="/icons/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png" />
    <link rel="manifest" href="/manifest.webmanifest" />
</head>

<body>
    <div class="tip" id="tip"></div>
    <button class="setting-btn" id="settings-toggle"><svg xmlns="http://www.w3.org/2000/svg" fill="var(--text)"
            stroke="none" viewBox="-1 -1 18 6" fill-rule="evenodd" clip-rule="evenodd">
            <path
                d="M4 2C4 3.10457 3.10457 4 2 4C0.89543 4 0 3.10457 0 2C0 0.89543 0.89543 0 2 0C3.10457 0 4 0.89543 4 2Z M10 2C10 3.10457 9.10457 4 8 4C6.89543 4 6 3.10457 6 2C6 0.89543 6.89543 0 8 0C9.10457 0 10 0.89543 10 2Z M16 2C16 3.10457 15.1046 4 14 4C12.8954 4 12 3.10457 12 2C12 0.89543 12.8954 0 14 0C15.1046 0 16 0.89543 16 2Z" />
        </svg></button>
    <div id="settings-menu" class="hidden">
        <button class="setting-btn" id="theme-toggle"><svg xmlns="http://www.w3.org/2000/svg" fill="transparent"
                stroke="var(--text)" viewBox="-1 -1 19 19" fill-rule="evenodd" clip-rule="evenodd"></svg></button>
        <button class="setting-btn" id="locale-toggle"><svg xmlns="http://www.w3.org/2000/svg" fill="transparent"
                stroke="var(--text)" viewBox="-1 -1 19 19" fill-rule="evenodd" clip-rule="evenodd">
                <path d="M0.5 1.71905H6.75778M6.75778 1.71905V0.5M6.75778 1.71905H10.74M1.63778 13.719C6.18889 9.14762 10.74 4.76667 10.74 1.71905M10.74 1.71905H12.5178M9.10445 16.5L10.2991 13.0714M16.5 16.5L15.476 13.0714M10.2991 13.0714H15.476M10.2991 13.0714L12.8928 5.62784C12.9195 5.55129 12.9917 5.5 13.0727 5.5C13.157 5.5 13.2312 5.5553 13.2553 5.63601L15.476 13.0714M2.65445 3.7C3.65389 6.1391 6.22025 9.10092 9.27189 12.2333"
                    stroke-linecap="round" />
        </svg></button>
        <button class="setting-btn" id="user-manual-toggle"><svg xmlns="http://www.w3.org/2000/svg" fill="transparent"
                stroke="var(--text)" viewBox="-1 -1 19 19" fill-rule="evenodd" clip-rule="evenodd">
                <path
                    d="M8.49997 11.125C8.49997 7.99994 9.5 9 10.5 7.5C12 5.5 10.5 3.50004 8.49999 3.5C6.49999 3.49996 4.99998 5.5 6.5 7.5M16.5 8.5C16.5 12.9183 12.9183 16.5 8.5 16.5C4.08172 16.5 0.5 12.9183 0.5 8.5C0.5 4.08172 4.08172 0.5 8.5 0.5C12.9183 0.5 16.5 4.08172 16.5 8.5ZM9 13.5C9 13.7761 8.77614 14 8.5 14C8.22386 14 8 13.7761 8 13.5C8 13.2239 8.22386 13 8.5 13C8.77614 13 9 13.2239 9 13.5Z"
                    stroke-linecap="round" />
            </svg></button>
    </div>


    <div class="floating-menu hidden" id="fm-logeq" style="left: 200px; top: 100px; z-index: 10;" data-locale-section="floating-menu-logeq-editor">
        <div class="floating-menu-header">
            <span data-locale="header"></span>
            <button class="hide"></button>
        </div>
        <div class="floating-menu-container flex col justify">
            <textarea name="logeq-text" id="logeq-text" cols="60" rows="10" placeholder="A = S0; 
B = B0;
L0 = A ^ B;"></textarea>
            <div class="flex row between gap-3">
                <button id="logeq-clear" data-locale="clear"></button>
                <span class="align-content-center lh-1">
                    <label for="logeq-flatten" data-locale="flatten"></label>
                    <input type="checkbox" id="logeq-flatten">
                </span>
                <span class="align-content-center">
                    <label for="logeq-input-el" data-locale="args"></label>
                    <select name="logeq-input-el" id="logeq-input-el">
                        <option value="AND" data-locale="and"></option>
                        <option value="SWITCH" data-locale="switch"></option>
                        <option value="BUTTON" data-locale="button"></option>
                    </select>
                </span>
                <button id="logeq-parse" data-locale="parse"></button>
            </div>
        </div>
    </div>
    <div class="floating-menu" style="left: 20px; top: 20px;" data-locale-section="floating-menu-tools">
        <div class="floating-menu-header">
            <span data-locale="header"></span>
            <input type="checkbox">
        </div>
        <div class="floating-menu-container flex col">
            <button id="tool-move" class="tool-button" data-locale="move"></button>
            <button id="tool-connect" class="tool-button" data-locale="connect"></button>
            <div class="flex gap-1">
                <input type="color" id="tool-color-picker" value="#222222">
                <button id="tool-paint" class="tool-button flex-1" data-locale="paint"></button>
            </div>
            <hr>
            <button id="copy-wires-mode-btn"></button>
            <button id="show-wires-mode-btn"></button>
            <button id="connect-mode-btn"></button>
            <hr>
            <button id="toggle-logeq-editor" data-locale="edit-logeq"></button>
        </div>
    </div>

    <div class="floating-menu" style="left: 20px; top: 420px;" data-locale-section="floating-menu-elements">
        <div class="floating-menu-header">
            <span data-locale="header"></span>
            <input type="checkbox">
        </div>
        <div class="floating-menu-container flex col justify">
            <button id="add-and" data-locale="and"></button>
            <button id="add-or" data-locale="or"></button>
            <button id="add-xor" data-locale="xor"></button>
            <button id="add-nand" data-locale="nand"></button>
            <button id="add-nor" data-locale="nor"></button>
            <button id="add-xnor" data-locale="xnor"></button>
            <button id="add-t_flop" data-locale="t-flop"></button>
            <button id="add-timer" data-locale="timer"></button>
            <button id="add-button" data-locale="button"></button>
            <button id="add-switch" data-locale="switch"></button>
            <button id="add-output" data-locale="output"></button>
        </div>
    </div>

    <div class="floating-menu" style="left: 50%; top: 20px;" data-locale-section="floating-menu-file">
        <div class="floating-menu-header">
            <span data-locale="header"></span>
            <input type="checkbox">
        </div>
        <div class="floating-menu-container flex col gap-3">
            <div class="flex gap-1"><span data-locale="file"></span>&nbsp;<span id="filename-display">Unnamed</span></div>
            <div class="flex gap-1">
                <button id="save-scheme" class="flex-1" data-locale="save"></button>
                <button id="load-scheme" class="flex-1" data-locale="load"></button>
                <button id="add-scheme" class="flex-1" data-locale="add"></button>
                <button id="clear-canvas" class="flex-1" data-locale="clear"></button>
            </div>
        </div>
    </div>

    <div class="floating-menu" style="left: 50%; top: 85%;" data-locale-section="floating-menu-simulation">
        <div class="floating-menu-header">
            <span data-locale="header"></span>
            <input type="checkbox">
        </div>
        <div class="floating-menu-container align-items-center">
            <button id="start-sim">⏵</button>
            <button id="step-sim">⏭</button>
            <button id="stop-sim">⏹</button>
            <input type="number" id="speed-sim" min="1" max="1000" value="40" style="width:50px;">
            <label for="speed-sim" data-locale="hz"></label>
        </div>
    </div>

    <div class="floating-menu hidden" id="fm-user-manual" data-locale-section="floating-menu-user-manual">
        <div class="floating-menu-header"><span data-locale="header"></span><button class="hide"></button></div>
        <div class="floating-menu-container col resizeable" data-locale="md-user-manual"></div>
    </div>

    <canvas id="circuit-canvas"></canvas>
    <input type="file" id="file-input" style="display:none" />
    <script type="module" src="src/consts.ts"></script>
    <script type="module" src="src/logic.ts"></script>
    <script type="module" src="src/drawing.ts"></script>
    <script type="module" src="src/drawingWGL.ts"></script>
    <script type="module" src="src/main.ts"></script>

</body>

</html>
